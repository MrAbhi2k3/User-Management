{"ast":null,"code":"import axios from 'axios';\nconst API_URL = pro;\nconst safeGetLocalStorage = key => {\n  try {\n    if (typeof window !== 'undefined' && window.localStorage) {\n      return localStorage.getItem(key);\n    }\n  } catch (error) {\n    console.error('LocalStorage access error:', error);\n  }\n  return null;\n};\nconst safeRemoveLocalStorage = key => {\n  try {\n    if (typeof window !== 'undefined' && window.localStorage) {\n      localStorage.removeItem(key);\n    }\n  } catch (error) {\n    console.error('LocalStorage access error:', error);\n  }\n};\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\napi.interceptors.request.use(config => {\n  const token = safeGetLocalStorage('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\napi.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    safeRemoveLocalStorage('token');\n    safeRemoveLocalStorage('user');\n    if (typeof window !== 'undefined') {\n      window.location.href = '/login';\n    }\n  }\n  return Promise.reject(error);\n});\nexport const authAPI = {\n  signup: data => api.post('/auth/signup', data),\n  login: data => api.post('/auth/login', data)\n};\nexport const userAPI = {\n  getProfile: () => api.get('/users/profile'),\n  getAllUsers: () => api.get('/users/all'),\n  addUser: data => api.post('/users/add', data),\n  deleteUser: id => api.delete(`/users/${id}`)\n};\nexport default api;","map":{"version":3,"names":["axios","API_URL","pro","safeGetLocalStorage","key","window","localStorage","getItem","error","console","safeRemoveLocalStorage","removeItem","api","create","baseURL","headers","interceptors","request","use","config","token","Authorization","response","_error$response","status","location","href","Promise","reject","authAPI","signup","data","post","login","userAPI","getProfile","get","getAllUsers","addUser","deleteUser","id","delete"],"sources":["/home/rakushumi/Documents/usermanagement/client/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = pro;\n\nconst safeGetLocalStorage = (key) => {\n  try {\n    if (typeof window !== 'undefined' && window.localStorage) {\n      return localStorage.getItem(key);\n    }\n  } catch (error) {\n    console.error('LocalStorage access error:', error);\n  }\n  return null;\n};\n\nconst safeRemoveLocalStorage = (key) => {\n  try {\n    if (typeof window !== 'undefined' && window.localStorage) {\n      localStorage.removeItem(key);\n    }\n  } catch (error) {\n    console.error('LocalStorage access error:', error);\n  }\n};\n\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\napi.interceptors.request.use((config) => {\n  const token = safeGetLocalStorage('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      safeRemoveLocalStorage('token');\n      safeRemoveLocalStorage('user');\n      if (typeof window !== 'undefined') {\n        window.location.href = '/login';\n      }\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport const authAPI = {\n  signup: (data) => api.post('/auth/signup', data),\n  login: (data) => api.post('/auth/login', data)\n};\n\nexport const userAPI = {\n  getProfile: () => api.get('/users/profile'),\n  getAllUsers: () => api.get('/users/all'),\n  addUser: (data) => api.post('/users/add', data),\n  deleteUser: (id) => api.delete(`/users/${id}`)\n};\n\nexport default api;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGC,GAAG;AAEnB,MAAMC,mBAAmB,GAAIC,GAAG,IAAK;EACnC,IAAI;IACF,IAAI,OAAOC,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACC,YAAY,EAAE;MACxD,OAAOA,YAAY,CAACC,OAAO,CAACH,GAAG,CAAC;IAClC;EACF,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;EACpD;EACA,OAAO,IAAI;AACb,CAAC;AAED,MAAME,sBAAsB,GAAIN,GAAG,IAAK;EACtC,IAAI;IACF,IAAI,OAAOC,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACC,YAAY,EAAE;MACxDA,YAAY,CAACK,UAAU,CAACP,GAAG,CAAC;IAC9B;EACF,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;EACpD;AACF,CAAC;AAED,MAAMI,GAAG,GAAGZ,KAAK,CAACa,MAAM,CAAC;EACvBC,OAAO,EAAEb,OAAO;EAChBc,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;AAEFH,GAAG,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACvC,MAAMC,KAAK,GAAGjB,mBAAmB,CAAC,OAAO,CAAC;EAC1C,IAAIiB,KAAK,EAAE;IACTD,MAAM,CAACJ,OAAO,CAACM,aAAa,GAAG,UAAUD,KAAK,EAAE;EAClD;EACA,OAAOD,MAAM;AACf,CAAC,CAAC;AAEFP,GAAG,CAACI,YAAY,CAACM,QAAQ,CAACJ,GAAG,CAC1BI,QAAQ,IAAKA,QAAQ,EACrBd,KAAK,IAAK;EAAA,IAAAe,eAAA;EACT,IAAI,EAAAA,eAAA,GAAAf,KAAK,CAACc,QAAQ,cAAAC,eAAA,uBAAdA,eAAA,CAAgBC,MAAM,MAAK,GAAG,EAAE;IAClCd,sBAAsB,CAAC,OAAO,CAAC;IAC/BA,sBAAsB,CAAC,MAAM,CAAC;IAC9B,IAAI,OAAOL,MAAM,KAAK,WAAW,EAAE;MACjCA,MAAM,CAACoB,QAAQ,CAACC,IAAI,GAAG,QAAQ;IACjC;EACF;EACA,OAAOC,OAAO,CAACC,MAAM,CAACpB,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,OAAO,MAAMqB,OAAO,GAAG;EACrBC,MAAM,EAAGC,IAAI,IAAKnB,GAAG,CAACoB,IAAI,CAAC,cAAc,EAAED,IAAI,CAAC;EAChDE,KAAK,EAAGF,IAAI,IAAKnB,GAAG,CAACoB,IAAI,CAAC,aAAa,EAAED,IAAI;AAC/C,CAAC;AAED,OAAO,MAAMG,OAAO,GAAG;EACrBC,UAAU,EAAEA,CAAA,KAAMvB,GAAG,CAACwB,GAAG,CAAC,gBAAgB,CAAC;EAC3CC,WAAW,EAAEA,CAAA,KAAMzB,GAAG,CAACwB,GAAG,CAAC,YAAY,CAAC;EACxCE,OAAO,EAAGP,IAAI,IAAKnB,GAAG,CAACoB,IAAI,CAAC,YAAY,EAAED,IAAI,CAAC;EAC/CQ,UAAU,EAAGC,EAAE,IAAK5B,GAAG,CAAC6B,MAAM,CAAC,UAAUD,EAAE,EAAE;AAC/C,CAAC;AAED,eAAe5B,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}